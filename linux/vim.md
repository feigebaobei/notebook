# vi/vim

所有unix like系统都会内建vi文本编辑器。
vim是从vi发展来的。
vim是一个程序开发工具而不是文字处理软件。

vi/vim有三种模式：
1. 命令模式
2. 输入模式
3. 底线命令模式

## 命令模式

使用vi/vim进入命令模式。
`i`进入输入模式。
`x`删除当前光标所在处的字符。
`:`进入底线命令模式

|||||
|-|-|-|-|
|h||||
|j||||
|k||||
|l||||
|num+j|向下移动num行|||
|ctrl+f|屏幕向下移动一页|||
|ctrl+b|屏幕向上移动一页|||
|ctrl+d|屏幕向下移动半页|||
|ctrl+u|屏幕向上移动半页|||
|n<space>|向右移动n个字节。会拆行。|||
|0|光标移动动行首|||
|$|光标移动动行尾|||
|H|光标移动到屏幕的左上方|||
|M|光标移动到中间行的第一个字符|||
|L|光标移动到屏幕的最下方的第一个字符|||
|G|移动到文案的最后一行|||
|nG|移动到第n行|||
|gg|移动到第一行|||
|n<Enter>|移动到第n行|||
|/word|向光标下寻找一个word字符串|||
|?word|向光标上寻找一个word字符串|||
|n|重复上一个搜寻动作|||
|:n1,n2s/word1/word2/g|把第n1行到n2行的word1改为word2。|$s表示最后一行。c表示需要确认。||
|x,X|删除光标当前的字符|||
|nx|删除当前行中光标后的n个字符|||
|dd|删除当前行|||
|ndd|删除光标后n行|||
|d1G|删除从文档第一行到当前行|||
|dG|删除当前到最后一行|||
|d$|删除光标到该行的最后一个字符|||
|d0|删除光标到该行的第一个字符|||
|yy|复制当前行|||
|nyy||||
|y1G||||
|yG||||
|y0||||
|y$||||
|p,P|把复制的内容贴的当前行的下一行|||
|J|把光标所在行的下一行与当前行合并为一行|||
|c|不会|||
|u|复原前一个动作|||
|ctrl+r|重做前一个动作|||

|-||||
|-|-|-|-|
|i,I|在光标处开始输入|||
|a,A|在光标后开始输入|||
|o,O|在光标下一行输入|||
|r,R|不会|||

## 输入模式

这个模式没的说。就是编辑代码。

## 底线命令模式

`:`进入底线命令模式
`q`退出程序
`w`保存文件
|-||||
|-|-|-|-|
|w|保存文档|||
|w!|不会|||
|q|退出文档|||
|q!|退出并不保存文档|||
|wq|退出并保存文档|||
|ZZ|保存并退出|||
|ZQ|不保存并退出|||
|w [filename]|把编辑过的文本另存为filename|||
|r [filename]|把[filename]读入光标处|||
|:n1,n2 w [filename]|把n1-n2行的内容保存为[filename]|||
|:! [command]|暂时离开vim逻辑器，并在command中执行[command]|||
|:set nu|显示行号|||
|:set nonu|不显示行号|||

## 模式关系图
```

vim----------->命令模式<------------------------------|
                |  ^  ----------------------------|  |
                |  |                              |  |
               i|  |esc                          :|  |回车
                |  |                              |  |
                V  |                              V  |
               输入模式                          底线命令模式

```